{"ast":null,"code":"var _jsxFileName = \"D:\\\\JTCSM\\\\c\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport DestinationList from './components/DestinationList';\nimport SceneryList from './components/SceneryList';\nimport Community from './components/Community';\nimport Profile from './components/Profile';\nimport API from './api';\nimport { useEffect } from 'react';\nimport AdminReports from './components/AdminReports';\nimport NavIcon from './components/NavIcon';\nimport { ThemeContext } from './ThemeContext';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [showRegister, setShowRegister] = useState(false);\n  const [token, setToken] = useState('');\n  const [username, setUsername] = useState('');\n  const [destinationId, setDestinationId] = useState('');\n  const [loginSuccess, setLoginSuccess] = useState(false);\n  const [showCommunity, setShowCommunity] = useState(false);\n  const [showProfile, setShowProfile] = useState(false);\n  const [bgImage, setBgImage] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  // 页面切换\n  const [page, setPage] = useState('home'); // home, community, profile\n\n  const {\n    theme,\n    toggleTheme\n  } = React.useContext(ThemeContext);\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const switchLang = () => i18n.changeLanguage(i18n.language === 'zh' ? 'en' : 'zh');\n  useEffect(() => {\n    async function fetchBgAndAdmin() {\n      if (destinationId) {\n        const res = await API.get(`/destinations/${destinationId}/scenery`);\n        if (res.data && res.data.length > 0) {\n          setBgImage(`http://localhost:3001${res.data[0].image}`);\n          return;\n        }\n      }\n      // 若无选中目的地或无风景，随机取一张\n      const dests = await API.get('/destinations');\n      for (let d of dests.data) {\n        const res2 = await API.get(`/destinations/${d.id}/scenery`);\n        if (res2.data && res2.data.length > 0) {\n          setBgImage(`http://localhost:3001${res2.data[0].image}`);\n          return;\n        }\n      }\n      setBgImage('');\n      if (!username) return; // 没有用户名时不查管理员\n      const res = await API.get(`/auth/userinfo?username=${username}`);\n      console.log('isAdmin', res.data && res.data.isAdmin); // 调试输出\n      setIsAdmin(res.data && res.data.isAdmin);\n    }\n    fetchBgAndAdmin();\n  }, [destinationId, username]);\n  const handleLogin = (tk, user) => {\n    setToken(tk);\n    setUsername(user);\n    setLoginSuccess(true);\n    API.get(`/auth/userinfo?username=${user}`).then(res => {\n      setIsAdmin(res.data && res.data.isAdmin);\n      console.log('isAdmin', res.data && res.data.isAdmin);\n    });\n    setTimeout(() => setLoginSuccess(false), 3000);\n  };\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [showRegister ? /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowRegister(!showRegister),\n        children: showRegister ? '已有账号？去登录' : '没有账号？去注册'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 页面内容\n  let pageContent = null;\n  if (page === 'community') {\n    pageContent = /*#__PURE__*/_jsxDEV(Community, {\n      username: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  } else if (page === 'profile') {\n    pageContent = /*#__PURE__*/_jsxDEV(Profile, {\n      username: username,\n      onBack: () => setPage('home'),\n      showLogout: () => {\n        setToken('');\n        setUsername('');\n        setPage('home');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  } else if (page === 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        backgroundImage: bgImage ? `url(${bgImage})` : '',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          background: 'rgba(0,0,0,0.4)',\n          zIndex: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          zIndex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(AdminReports, {\n          username: username,\n          onBack: () => setPage('home')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  } else {\n    pageContent = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [loginSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#d4edda',\n          color: '#155724',\n          padding: 10,\n          marginBottom: 10,\n          borderRadius: 4\n        },\n        children: \"\\u767B\\u5F55\\u6210\\u529F\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\u6B22\\u8FCE\\uFF0C\", username, \"\\uFF01\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DestinationList, {\n        selected: destinationId,\n        setSelected: setDestinationId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SceneryList, {\n        destinationId: destinationId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      backgroundImage: bgImage ? `url(${bgImage})` : '',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      position: 'relative',\n      transition: 'background 0.4s'\n    },\n    \"data-theme\": theme,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: theme === 'dark' ? 'rgba(0,0,0,0.7)' : 'rgba(0,0,0,0.4)',\n        zIndex: 0,\n        transition: 'background 0.4s'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        zIndex: 1,\n        paddingBottom: 70,\n        color: theme === 'dark' ? '#eee' : '#222',\n        transition: 'color 0.4s'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          right: 16,\n          top: 16,\n          zIndex: 20,\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleTheme,\n          style: {\n            border: 'none',\n            background: '#eee',\n            borderRadius: 6,\n            padding: '4px 12px',\n            cursor: 'pointer'\n          },\n          children: [t('theme'), \": \", theme === 'dark' ? t('dark') : t('light')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: switchLang,\n          style: {\n            border: 'none',\n            background: '#eee',\n            borderRadius: 6,\n            padding: '4px 12px',\n            cursor: 'pointer'\n          },\n          children: [t('lang'), \": \", i18n.language === 'zh' ? t('zh') : t('en')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), pageContent]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: 0,\n        bottom: 0,\n        width: '100%',\n        height: 60,\n        background: theme === 'dark' ? 'rgba(30,30,30,0.97)' : 'rgba(255,255,255,0.95)',\n        borderTop: '1px solid #eee',\n        display: 'flex',\n        justifyContent: 'space-around',\n        alignItems: 'center',\n        zIndex: 10,\n        transition: 'background 0.4s'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPage('home'),\n        style: {\n          flex: 1,\n          height: '100%',\n          border: 'none',\n          background: 'none',\n          fontSize: 12,\n          color: page === 'home' ? '#007bff' : theme === 'dark' ? '#eee' : '#333',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n          type: \"home\",\n          active: page === 'home'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), t('home')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPage('community'),\n        style: {\n          flex: 1,\n          height: '100%',\n          border: 'none',\n          background: 'none',\n          fontSize: 12,\n          color: page === 'community' ? '#007bff' : theme === 'dark' ? '#eee' : '#333',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n          type: \"community\",\n          active: page === 'community'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), t('community')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPage('profile'),\n        style: {\n          flex: 1,\n          height: '100%',\n          border: 'none',\n          background: 'none',\n          fontSize: 12,\n          color: page === 'profile' ? '#007bff' : theme === 'dark' ? '#eee' : '#333',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n          type: \"profile\",\n          active: page === 'profile'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), t('profile')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPage('admin'),\n        style: {\n          flex: 1,\n          height: '100%',\n          border: 'none',\n          background: 'none',\n          fontSize: 12,\n          color: page === 'admin' ? '#007bff' : theme === 'dark' ? '#eee' : '#333',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n          type: \"admin\",\n          active: page === 'admin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), t('admin')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"zABB1zYINfhQZkNupAKMKrZ0hk0=\", false, function () {\n  return [useTranslation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Login","Register","DestinationList","SceneryList","Community","Profile","API","useEffect","AdminReports","NavIcon","ThemeContext","useTranslation","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","showRegister","setShowRegister","token","setToken","username","setUsername","destinationId","setDestinationId","loginSuccess","setLoginSuccess","showCommunity","setShowCommunity","showProfile","setShowProfile","bgImage","setBgImage","isAdmin","setIsAdmin","page","setPage","theme","toggleTheme","useContext","t","i18n","switchLang","changeLanguage","language","fetchBgAndAdmin","res","get","data","length","image","dests","d","res2","id","console","log","handleLogin","tk","user","then","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onClick","pageContent","onBack","showLogout","style","minHeight","backgroundImage","backgroundSize","backgroundPosition","position","top","left","width","height","background","zIndex","color","padding","marginBottom","borderRadius","selected","setSelected","transition","paddingBottom","right","display","gap","border","cursor","bottom","borderTop","justifyContent","alignItems","flex","fontSize","flexDirection","type","active","_c","$RefreshReg$"],"sources":["D:/JTCSM/c/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport DestinationList from './components/DestinationList';\r\nimport SceneryList from './components/SceneryList';\r\nimport Community from './components/Community';\r\nimport Profile from './components/Profile';\r\nimport API from './api';\r\nimport { useEffect } from 'react';\r\nimport AdminReports from './components/AdminReports';\r\nimport NavIcon from './components/NavIcon';\r\nimport { ThemeContext } from './ThemeContext';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction App() {\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [token, setToken] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [destinationId, setDestinationId] = useState('');\r\n  const [loginSuccess, setLoginSuccess] = useState(false);\r\n  const [showCommunity, setShowCommunity] = useState(false);\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [bgImage, setBgImage] = useState('');\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  // 页面切换\r\n  const [page, setPage] = useState('home'); // home, community, profile\r\n\r\n  const { theme, toggleTheme } = React.useContext(ThemeContext);\r\n  const { t, i18n } = useTranslation();\r\n  const switchLang = () => i18n.changeLanguage(i18n.language === 'zh' ? 'en' : 'zh');\r\n\r\n  useEffect(() => {\r\n    async function fetchBgAndAdmin() {\r\n      if (destinationId) {\r\n        const res = await API.get(`/destinations/${destinationId}/scenery`);\r\n        if (res.data && res.data.length > 0) {\r\n          setBgImage(`http://localhost:3001${res.data[0].image}`);\r\n          return;\r\n        }\r\n      }\r\n      // 若无选中目的地或无风景，随机取一张\r\n      const dests = await API.get('/destinations');\r\n      for (let d of dests.data) {\r\n        const res2 = await API.get(`/destinations/${d.id}/scenery`);\r\n        if (res2.data && res2.data.length > 0) {\r\n          setBgImage(`http://localhost:3001${res2.data[0].image}`);\r\n          return;\r\n        }\r\n      }\r\n      setBgImage('');\r\n      if (!username) return; // 没有用户名时不查管理员\r\n      const res = await API.get(`/auth/userinfo?username=${username}`);\r\n      console.log('isAdmin', res.data && res.data.isAdmin); // 调试输出\r\n      setIsAdmin(res.data && res.data.isAdmin);\r\n    }\r\n    fetchBgAndAdmin();\r\n  }, [destinationId, username]);\r\n\r\n  const handleLogin = (tk, user) => {\r\n    setToken(tk);\r\n    setUsername(user);\r\n    setLoginSuccess(true);\r\n    API.get(`/auth/userinfo?username=${user}`).then(res => {\r\n      setIsAdmin(res.data && res.data.isAdmin);\r\n      console.log('isAdmin', res.data && res.data.isAdmin);\r\n    });\r\n    setTimeout(() => setLoginSuccess(false), 3000);\r\n  };\r\n\r\n  if (!token) {\r\n    return (\r\n      <div>\r\n        {showRegister ? <Register /> : <Login onLogin={handleLogin} />}\r\n        <button onClick={() => setShowRegister(!showRegister)}>\r\n          {showRegister ? '已有账号？去登录' : '没有账号？去注册'}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 页面内容\r\n  let pageContent = null;\r\n  if (page === 'community') {\r\n    pageContent = (\r\n      <Community username={username} />\r\n    );\r\n  } else if (page === 'profile') {\r\n    pageContent = (\r\n      <Profile username={username} onBack={() => setPage('home')} showLogout={() => { setToken(''); setUsername(''); setPage('home'); }} />\r\n    );\r\n  } else if (page === 'admin') {\r\n    return (\r\n      <div style={{ minHeight: '100vh', backgroundImage: bgImage ? `url(${bgImage})` : '', backgroundSize: 'cover', backgroundPosition: 'center', position: 'relative' }}>\r\n        <div style={{ position: 'absolute', top:0, left:0, width:'100%', height:'100%', background:'rgba(0,0,0,0.4)', zIndex:0 }} />\r\n        <div style={{ position:'relative', zIndex:1 }}>\r\n          <AdminReports username={username} onBack={() => setPage('home')} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    pageContent = (\r\n      <>\r\n        {loginSuccess && (\r\n          <div style={{ background: '#d4edda', color: '#155724', padding: 10, marginBottom: 10, borderRadius: 4 }}>\r\n            登录成功！\r\n          </div>\r\n        )}\r\n        <h2>欢迎，{username}！</h2>\r\n        <DestinationList selected={destinationId} setSelected={setDestinationId} />\r\n        <SceneryList destinationId={destinationId} />\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', backgroundImage: bgImage ? `url(${bgImage})` : '', backgroundSize: 'cover', backgroundPosition: 'center', position: 'relative', transition: 'background 0.4s' }} data-theme={theme}>\r\n      <div style={{ position: 'absolute', top:0, left:0, width:'100%', height:'100%', background: theme==='dark'?'rgba(0,0,0,0.7)':'rgba(0,0,0,0.4)', zIndex:0, transition:'background 0.4s' }} />\r\n      <div style={{ position:'relative', zIndex:1, paddingBottom: 70, color: theme==='dark'?'#eee':'#222', transition:'color 0.4s' }}>\r\n        <div style={{ position:'fixed', right:16, top:16, zIndex:20, display:'flex', gap:8 }}>\r\n          <button onClick={toggleTheme} style={{ border:'none', background:'#eee', borderRadius:6, padding:'4px 12px', cursor:'pointer' }}>{t('theme')}: {theme==='dark'?t('dark'):t('light')}</button>\r\n          <button onClick={switchLang} style={{ border:'none', background:'#eee', borderRadius:6, padding:'4px 12px', cursor:'pointer' }}>{t('lang')}: {i18n.language==='zh'?t('zh'):t('en')}</button>\r\n        </div>\r\n        {pageContent}\r\n      </div>\r\n      {/* 底部导航栏 */}\r\n      <div style={{ position: 'fixed', left: 0, bottom: 0, width: '100%', height: 60, background: theme==='dark'?'rgba(30,30,30,0.97)':'rgba(255,255,255,0.95)', borderTop: '1px solid #eee', display: 'flex', justifyContent: 'space-around', alignItems: 'center', zIndex: 10, transition:'background 0.4s' }}>\r\n        <button onClick={() => setPage('home')} style={{ flex: 1, height: '100%', border: 'none', background: 'none', fontSize: 12, color: page==='home'?'#007bff':theme==='dark'?'#eee':'#333', display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center' }}>\r\n          <NavIcon type=\"home\" active={page==='home'} />{t('home')}\r\n        </button>\r\n        <button onClick={() => setPage('community')} style={{ flex: 1, height: '100%', border: 'none', background: 'none', fontSize: 12, color: page==='community'?'#007bff':theme==='dark'?'#eee':'#333', display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center' }}>\r\n          <NavIcon type=\"community\" active={page==='community'} />{t('community')}\r\n        </button>\r\n        <button onClick={() => setPage('profile')} style={{ flex: 1, height: '100%', border: 'none', background: 'none', fontSize: 12, color: page==='profile'?'#007bff':theme==='dark'?'#eee':'#333', display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center' }}>\r\n          <NavIcon type=\"profile\" active={page==='profile'} />{t('profile')}\r\n        </button>\r\n        {isAdmin && <button onClick={() => setPage('admin')} style={{ flex: 1, height: '100%', border: 'none', background: 'none', fontSize: 12, color: page==='admin'?'#007bff':theme==='dark'?'#eee':'#333', display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center' }}>\r\n          <NavIcon type=\"admin\" active={page==='admin'} />{t('admin')}\r\n        </button>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}