{"ast":null,"code":"var _jsxFileName = \"D:\\\\JTCSM\\\\c\\\\frontend\\\\src\\\\components\\\\Community.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Community({\n  username\n}) {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [text, setText] = useState('');\n  const [image, setImage] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [commentText, setCommentText] = useState({});\n  const [comments, setComments] = useState({});\n  const [likes, setLikes] = useState({});\n  const [liked, setLiked] = useState({});\n  const [bgImages, setBgImages] = useState([]);\n  const [bgIndex, setBgIndex] = useState(0);\n\n  // 获取所有帖子\n  const fetchPosts = async () => {\n    const res = await API.getPosts();\n    setPosts(res.data);\n    // 获取每个帖子的评论和点赞\n    res.data.forEach(post => {\n      fetchComments(post.id);\n      fetchLikes(post.id);\n    });\n  };\n  useEffect(() => {\n    fetchPosts();\n    // eslint-disable-next-line\n  }, []);\n\n  // 获取所有风景图片\n  useEffect(() => {\n    async function fetchAllImages() {\n      const dests = await API.get('/destinations');\n      let imgs = [];\n      for (let d of dests.data) {\n        const res = await API.get(`/destinations/${d.id}/scenery`);\n        if (res.data && res.data.length > 0) {\n          imgs = imgs.concat(res.data.map(s => `http://localhost:3001${s.image}`));\n        }\n      }\n      setBgImages(imgs);\n    }\n    fetchAllImages();\n  }, []);\n\n  // 轮播背景\n  useEffect(() => {\n    if (bgImages.length === 0) return;\n    const timer = setInterval(() => {\n      setBgIndex(i => (i + 1) % bgImages.length);\n    }, 4000);\n    return () => clearInterval(timer);\n  }, [bgImages]);\n\n  // 处理图片选择\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    setImage(file);\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => setPreview(reader.result);\n      reader.readAsDataURL(file);\n    } else {\n      setPreview(null);\n    }\n  };\n\n  // 发布分享\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!text && !image) return;\n    const formData = new FormData();\n    formData.append('text', text);\n    formData.append('username', username);\n    if (image) formData.append('image', image);\n    await API.createPost(formData);\n    setText('');\n    setImage(null);\n    setPreview(null);\n    fetchPosts();\n  };\n\n  // 评论相关\n  const fetchComments = async postId => {\n    const res = await API.getComments(postId);\n    setComments(prev => ({\n      ...prev,\n      [postId]: res.data\n    }));\n  };\n  const handleComment = async postId => {\n    if (!commentText[postId]) return;\n    await API.createComment({\n      postId,\n      text: commentText[postId],\n      username\n    });\n    setCommentText(prev => ({\n      ...prev,\n      [postId]: ''\n    }));\n    fetchComments(postId);\n  };\n\n  // 点赞相关\n  const fetchLikes = async postId => {\n    const res = await API.getLikes(postId);\n    setLikes(prev => ({\n      ...prev,\n      [postId]: res.data.count\n    }));\n    // 判断当前用户是否已点赞\n    if (username) {\n      const res2 = await API.getComments(postId); // 用评论接口判断点赞用户（如需优化可加新接口）\n      setLiked(prev => ({\n        ...prev,\n        [postId]: false\n      })); // 简化：不判断，点一次切换\n    }\n  };\n  const handleLike = async postId => {\n    await API.toggleLike({\n      postId,\n      username\n    });\n    fetchLikes(postId);\n  };\n\n  // 删除帖子\n  const handleDelete = async postId => {\n    if (!window.confirm('确定要删除这条动态吗？')) return;\n    await API.deletePost(postId, username);\n    fetchPosts();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      backgroundImage: bgImages.length ? `url(${bgImages[bgIndex]})` : '',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0,0,0,0.4)',\n        zIndex: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"\\u793E\\u533A\\u5206\\u4EAB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        style: {\n          marginBottom: 32\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: text,\n          onChange: e => setText(e.target.value),\n          placeholder: \"\\u5206\\u4EAB\\u4F60\\u7684\\u60F3\\u6CD5...\",\n          rows: 3,\n          style: {\n            width: '100%',\n            marginBottom: 12,\n            padding: 8,\n            borderRadius: 4,\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleImageChange,\n          style: {\n            marginBottom: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: preview,\n            alt: \"\\u9884\\u89C8\",\n            style: {\n              maxWidth: 200,\n              borderRadius: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            padding: '8px 24px',\n            borderRadius: 4,\n            background: '#007bff',\n            color: '#fff',\n            border: 'none'\n          },\n          children: \"\\u53D1\\u5E03\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [posts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#888',\n            textAlign: 'center'\n          },\n          children: \"\\u6682\\u65E0\\u5206\\u4EAB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 34\n        }, this), posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderBottom: '1px solid #eee',\n            padding: '16px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 'bold',\n              marginBottom: 4\n            },\n            children: [post.username, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#aaa',\n                fontSize: 12\n              },\n              children: new Date(post.createdAt).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this), post.username === username && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(post.id),\n              style: {\n                marginLeft: 12,\n                color: 'red',\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer'\n              },\n              children: \"\\u5220\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), post.text && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: post.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this), post.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:3001${post.image}`,\n            alt: \"\\u5206\\u4EAB\",\n            style: {\n              maxWidth: 300,\n              borderRadius: 8,\n              marginBottom: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 12,\n              margin: '8px 0'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleLike(post.id),\n              style: {\n                color: liked[post.id] ? 'red' : '#333'\n              },\n              children: [\"\\uD83D\\uDC4D \", likes[post.id] || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                color: '#555',\n                marginBottom: 4\n              },\n              children: \"\\u8BC4\\u8BBA\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), (comments[post.id] || []).map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                marginBottom: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: [c.username, \"\\uFF1A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 77\n              }, this), c.text]\n            }, c.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 8,\n                marginTop: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                value: commentText[post.id] || '',\n                onChange: e => setCommentText(prev => ({\n                  ...prev,\n                  [post.id]: e.target.value\n                })),\n                placeholder: \"\\u5199\\u8BC4\\u8BBA...\",\n                style: {\n                  flex: 1,\n                  borderRadius: 4,\n                  border: '1px solid #ccc',\n                  padding: 4\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleComment(post.id),\n                style: {\n                  borderRadius: 4,\n                  background: '#eee',\n                  border: 'none',\n                  padding: '4px 12px'\n                },\n                children: \"\\u53D1\\u9001\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this)]\n        }, post.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n_s(Community, \"ZiachuMxd5d34p58duMfIZmxZoM=\");\n_c = Community;\nvar _c;\n$RefreshReg$(_c, \"Community\");","map":{"version":3,"names":["React","useState","useEffect","API","jsxDEV","_jsxDEV","Community","username","_s","posts","setPosts","text","setText","image","setImage","preview","setPreview","commentText","setCommentText","comments","setComments","likes","setLikes","liked","setLiked","bgImages","setBgImages","bgIndex","setBgIndex","fetchPosts","res","getPosts","data","forEach","post","fetchComments","id","fetchLikes","fetchAllImages","dests","get","imgs","d","length","concat","map","s","timer","setInterval","i","clearInterval","handleImageChange","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","preventDefault","formData","FormData","append","createPost","postId","getComments","prev","handleComment","createComment","getLikes","count","res2","handleLike","toggleLike","handleDelete","window","confirm","deletePost","style","minHeight","backgroundImage","backgroundSize","backgroundPosition","position","children","top","left","width","height","background","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","onSubmit","marginBottom","value","onChange","placeholder","rows","padding","borderRadius","border","type","accept","src","alt","maxWidth","color","borderBottom","fontWeight","fontSize","Date","createdAt","toLocaleString","onClick","marginLeft","cursor","display","alignItems","gap","margin","marginTop","c","flex","_c","$RefreshReg$"],"sources":["D:/JTCSM/c/frontend/src/components/Community.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport API from '../api';\r\n\r\nexport default function Community({ username }) {\r\n  const [posts, setPosts] = useState([]);\r\n  const [text, setText] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [commentText, setCommentText] = useState({});\r\n  const [comments, setComments] = useState({});\r\n  const [likes, setLikes] = useState({});\r\n  const [liked, setLiked] = useState({});\r\n  const [bgImages, setBgImages] = useState([]);\r\n  const [bgIndex, setBgIndex] = useState(0);\r\n\r\n  // 获取所有帖子\r\n  const fetchPosts = async () => {\r\n    const res = await API.getPosts();\r\n    setPosts(res.data);\r\n    // 获取每个帖子的评论和点赞\r\n    res.data.forEach(post => {\r\n      fetchComments(post.id);\r\n      fetchLikes(post.id);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // 获取所有风景图片\r\n  useEffect(() => {\r\n    async function fetchAllImages() {\r\n      const dests = await API.get('/destinations');\r\n      let imgs = [];\r\n      for (let d of dests.data) {\r\n        const res = await API.get(`/destinations/${d.id}/scenery`);\r\n        if (res.data && res.data.length > 0) {\r\n          imgs = imgs.concat(res.data.map(s => `http://localhost:3001${s.image}`));\r\n        }\r\n      }\r\n      setBgImages(imgs);\r\n    }\r\n    fetchAllImages();\r\n  }, []);\r\n\r\n  // 轮播背景\r\n  useEffect(() => {\r\n    if (bgImages.length === 0) return;\r\n    const timer = setInterval(() => {\r\n      setBgIndex(i => (i + 1) % bgImages.length);\r\n    }, 4000);\r\n    return () => clearInterval(timer);\r\n  }, [bgImages]);\r\n\r\n  // 处理图片选择\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => setPreview(reader.result);\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      setPreview(null);\r\n    }\r\n  };\r\n\r\n  // 发布分享\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!text && !image) return;\r\n    const formData = new FormData();\r\n    formData.append('text', text);\r\n    formData.append('username', username);\r\n    if (image) formData.append('image', image);\r\n    await API.createPost(formData);\r\n    setText('');\r\n    setImage(null);\r\n    setPreview(null);\r\n    fetchPosts();\r\n  };\r\n\r\n  // 评论相关\r\n  const fetchComments = async (postId) => {\r\n    const res = await API.getComments(postId);\r\n    setComments(prev => ({ ...prev, [postId]: res.data }));\r\n  };\r\n  const handleComment = async (postId) => {\r\n    if (!commentText[postId]) return;\r\n    await API.createComment({ postId, text: commentText[postId], username });\r\n    setCommentText(prev => ({ ...prev, [postId]: '' }));\r\n    fetchComments(postId);\r\n  };\r\n\r\n  // 点赞相关\r\n  const fetchLikes = async (postId) => {\r\n    const res = await API.getLikes(postId);\r\n    setLikes(prev => ({ ...prev, [postId]: res.data.count }));\r\n    // 判断当前用户是否已点赞\r\n    if (username) {\r\n      const res2 = await API.getComments(postId); // 用评论接口判断点赞用户（如需优化可加新接口）\r\n      setLiked(prev => ({ ...prev, [postId]: false })); // 简化：不判断，点一次切换\r\n    }\r\n  };\r\n  const handleLike = async (postId) => {\r\n    await API.toggleLike({ postId, username });\r\n    fetchLikes(postId);\r\n  };\r\n\r\n  // 删除帖子\r\n  const handleDelete = async (postId) => {\r\n    if (!window.confirm('确定要删除这条动态吗？')) return;\r\n    await API.deletePost(postId, username);\r\n    fetchPosts();\r\n  };\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', backgroundImage: bgImages.length ? `url(${bgImages[bgIndex]})` : '', backgroundSize: 'cover', backgroundPosition: 'center', position: 'relative' }}>\r\n      <div style={{ position: 'absolute', top:0, left:0, width:'100%', height:'100%', background:'rgba(0,0,0,0.4)', zIndex:0 }} />\r\n      <div style={{ position:'relative', zIndex:1 }}>\r\n        <h2 style={{ textAlign: 'center' }}>社区分享</h2>\r\n        <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\r\n          <textarea\r\n            value={text}\r\n            onChange={e => setText(e.target.value)}\r\n            placeholder=\"分享你的想法...\"\r\n            rows={3}\r\n            style={{ width: '100%', marginBottom: 12, padding: 8, borderRadius: 4, border: '1px solid #ccc' }}\r\n          />\r\n          <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} style={{ marginBottom: 12 }} />\r\n          {preview && <div style={{ marginBottom: 12 }}><img src={preview} alt=\"预览\" style={{ maxWidth: 200, borderRadius: 8 }} /></div>}\r\n          <button type=\"submit\" style={{ padding: '8px 24px', borderRadius: 4, background: '#007bff', color: '#fff', border: 'none' }}>发布</button>\r\n        </form>\r\n        <div>\r\n          {posts.length === 0 && <div style={{ color: '#888', textAlign: 'center' }}>暂无分享</div>}\r\n          {posts.map(post => (\r\n            <div key={post.id} style={{ borderBottom: '1px solid #eee', padding: '16px 0' }}>\r\n              <div style={{ fontWeight: 'bold', marginBottom: 4 }}>\r\n                {post.username} <span style={{ color: '#aaa', fontSize: 12 }}>{new Date(post.createdAt).toLocaleString()}</span>\r\n                {post.username === username && (\r\n                  <button onClick={() => handleDelete(post.id)} style={{ marginLeft: 12, color: 'red', background: 'none', border: 'none', cursor: 'pointer' }}>删除</button>\r\n                )}\r\n              </div>\r\n              {post.text && <div style={{ marginBottom: 8 }}>{post.text}</div>}\r\n              {post.image && <img src={`http://localhost:3001${post.image}`} alt=\"分享\" style={{ maxWidth: 300, borderRadius: 8, marginBottom: 8 }} />}\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: 12, margin: '8px 0' }}>\r\n                <button onClick={() => handleLike(post.id)} style={{ color: liked[post.id] ? 'red' : '#333' }}>👍 {likes[post.id] || 0}</button>\r\n              </div>\r\n              {/* 评论区 */}\r\n              <div style={{ marginTop: 8 }}>\r\n                <div style={{ fontSize: 13, color: '#555', marginBottom: 4 }}>评论：</div>\r\n                {(comments[post.id] || []).map(c => (\r\n                  <div key={c.id} style={{ fontSize: 13, marginBottom: 2 }}><b>{c.username}：</b>{c.text}</div>\r\n                ))}\r\n                <div style={{ display: 'flex', gap: 8, marginTop: 4 }}>\r\n                  <input\r\n                    value={commentText[post.id] || ''}\r\n                    onChange={e => setCommentText(prev => ({ ...prev, [post.id]: e.target.value }))}\r\n                    placeholder=\"写评论...\"\r\n                    style={{ flex: 1, borderRadius: 4, border: '1px solid #ccc', padding: 4 }}\r\n                  />\r\n                  <button onClick={() => handleComment(post.id)} style={{ borderRadius: 4, background: '#eee', border: 'none', padding: '4px 12px' }}>发送</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}