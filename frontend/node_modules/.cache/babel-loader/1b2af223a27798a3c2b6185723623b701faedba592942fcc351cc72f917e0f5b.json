{"ast":null,"code":"var _jsxFileName = \"D:\\\\JTCSM\\\\c\\\\frontend\\\\src\\\\components\\\\Community.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Community() {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [text, setText] = useState('');\n  const [image, setImage] = useState(null);\n  const [preview, setPreview] = useState(null);\n\n  // 处理图片选择\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    setImage(file);\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => setPreview(reader.result);\n      reader.readAsDataURL(file);\n    } else {\n      setPreview(null);\n    }\n  };\n\n  // 发布分享\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!text && !image) return;\n    const newPost = {\n      id: Date.now(),\n      text,\n      image: preview\n    };\n    setPosts([newPost, ...posts]);\n    setText('');\n    setImage(null);\n    setPreview(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 600,\n      margin: '40px auto',\n      padding: 24,\n      background: '#fff',\n      borderRadius: 8,\n      boxShadow: '0 2px 8px #eee'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"\\u793E\\u533A\\u5206\\u4EAB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        marginBottom: 32\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"\\u5206\\u4EAB\\u4F60\\u7684\\u60F3\\u6CD5...\",\n        rows: 3,\n        style: {\n          width: '100%',\n          marginBottom: 12,\n          padding: 8,\n          borderRadius: 4,\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleImageChange,\n        style: {\n          marginBottom: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: preview,\n          alt: \"\\u9884\\u89C8\",\n          style: {\n            maxWidth: 200,\n            borderRadius: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '8px 24px',\n          borderRadius: 4,\n          background: '#007bff',\n          color: '#fff',\n          border: 'none'\n        },\n        children: \"\\u53D1\\u5E03\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [posts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#888',\n          textAlign: 'center'\n        },\n        children: \"\\u6682\\u65E0\\u5206\\u4EAB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 32\n      }, this), posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderBottom: '1px solid #eee',\n          padding: '16px 0'\n        },\n        children: [post.text && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 8\n          },\n          children: post.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 27\n        }, this), post.image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post.image,\n          alt: \"\\u5206\\u4EAB\",\n          style: {\n            maxWidth: 300,\n            borderRadius: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 28\n        }, this)]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Community, \"H5RYZR6I9oU9xDuKBuIU3MHLpKA=\");\n_c = Community;\nvar _c;\n$RefreshReg$(_c, \"Community\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Community","_s","posts","setPosts","text","setText","image","setImage","preview","setPreview","handleImageChange","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","preventDefault","newPost","id","Date","now","style","maxWidth","margin","padding","background","borderRadius","boxShadow","children","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","value","onChange","placeholder","rows","width","border","type","accept","src","alt","color","length","map","post","borderBottom","_c","$RefreshReg$"],"sources":["D:/JTCSM/c/frontend/src/components/Community.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default function Community() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [text, setText] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n\r\n  // 处理图片选择\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => setPreview(reader.result);\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      setPreview(null);\r\n    }\r\n  };\r\n\r\n  // 发布分享\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!text && !image) return;\r\n    const newPost = {\r\n      id: Date.now(),\r\n      text,\r\n      image: preview,\r\n    };\r\n    setPosts([newPost, ...posts]);\r\n    setText('');\r\n    setImage(null);\r\n    setPreview(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 600, margin: '40px auto', padding: 24, background: '#fff', borderRadius: 8, boxShadow: '0 2px 8px #eee' }}>\r\n      <h2 style={{ textAlign: 'center' }}>社区分享</h2>\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\r\n        <textarea\r\n          value={text}\r\n          onChange={e => setText(e.target.value)}\r\n          placeholder=\"分享你的想法...\"\r\n          rows={3}\r\n          style={{ width: '100%', marginBottom: 12, padding: 8, borderRadius: 4, border: '1px solid #ccc' }}\r\n        />\r\n        <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} style={{ marginBottom: 12 }} />\r\n        {preview && <div style={{ marginBottom: 12 }}><img src={preview} alt=\"预览\" style={{ maxWidth: 200, borderRadius: 8 }} /></div>}\r\n        <button type=\"submit\" style={{ padding: '8px 24px', borderRadius: 4, background: '#007bff', color: '#fff', border: 'none' }}>发布</button>\r\n      </form>\r\n      <div>\r\n        {posts.length === 0 && <div style={{ color: '#888', textAlign: 'center' }}>暂无分享</div>}\r\n        {posts.map(post => (\r\n          <div key={post.id} style={{ borderBottom: '1px solid #eee', padding: '16px 0' }}>\r\n            {post.text && <div style={{ marginBottom: 8 }}>{post.text}</div>}\r\n            {post.image && <img src={post.image} alt=\"分享\" style={{ maxWidth: 300, borderRadius: 8 }} />}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}